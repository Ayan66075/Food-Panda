<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
  <style>
    .cart-item {
        width: 50%;
        margin: 0 auto;
        text-align: center;
      }
  
      .cart-item img {
        width: 800px;
        border-radius: 18px;
        max-width: 200px;
        height: auto;
      }
  
      .cart-item h3 {
        font-size: 1.5rem;
        margin-top: 10px;
        color: #ff2b85;
        font-weight: bold;
      }
  
      .cart-item p {
      padding: 15px;
      border: 1px solid #ddd;
      width: 200px;
      margin: auto;
      margin-bottom: 15px;
      border-radius: 8px;
      background-color: #f9f9f9;
    }
  
    .quantity-control {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
    }
  
    .quantity-control button {
      width: 30px;
      height: 30px;
      font-size: 18px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.2s ease;
    }
  
    .quantity-control button:hover {
      background-color: #2980b9;
    }
  
    .quantity {
      font-size: 16px;
      font-weight: bold;
      min-width: 20px;
      text-align: center;
    }


    .cart-item {
    padding: 15px;
    border: 1px solid #ddd;
    margin-bottom: 15px;
    border-radius: 8px;
    background-color: #f9f9f9;
  }

  .quantity-control {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 10px 0;
  }

  .quantity-control button {
    margin: auto;
    width: 30px;
    height: 30px;
    font-size: 18px;
    background-color: #ff2b85;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s ease;
  }

  .quantity-control button:hover {
    background-color: #e21b70;
  }

  .quantity {
    font-size: 16px;
    font-weight: bold;
    min-width: 20px;
    text-align: center;
  }

  .item-total {
    font-weight: bold;
    margin-top: 8px;
  }

  .remove-btn {
    background-color: #e74c3c;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
  }

  .remove-btn:hover {
    background-color: #c0392b;
  }
  </style>
  
  <title>Your Cart</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light cont-2" style="top: 0;" id="navbarShadow">
        <div class="container-fluid nav">
            <div class="Foodpanda-logo">
                <img style="border-radius: 6px;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTf71T5iisdx7foaXb8GtDjiE6Wy0WrBXl-lg&s">
                <a style="color: #ff2b85;" href='/'>food panda</a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a aria-current='page' class='nav-link' href='./index.html'>Home</a>
                    </li>
                    <li class="nav-item">
                        <a style="color: #ff2b85;" class="nav-link active" href="#">Cart</a>
                    </li>
                    <li class="nav-item">
                    </li>
                </ul>
                <form class="d-flex">
                    <button class="btn main-btn" type="button" id="logoutBtn">Logout</button>
                </form>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
    <div class="admin-heading">
        <h2 style="margin: 0;">Cart Items</h2>
    </div>
    </div>

  <div id="cart-container"></div>

  <script type="module">
    import { auth, onAuthStateChanged, signOut, db, doc, getDoc, collection, addDoc, getDocs, query, orderBy, updateDoc, deleteDoc } from './firebase.js';
    const showError = (title, text) => Swal.fire({ icon: "error", title, text });
const showSuccess = (title, text) => Swal.fire({ icon: "success", title, text });

document.getElementById("logoutBtn").addEventListener("click", () => {
    Swal.fire({
        icon: "warning",
        title: "Confirm Logout",
        text: "Are you sure you want to logout?",
        showCancelButton: true,
        confirmButtonText: "OK",
        cancelButtonText: "Cancel"
    }).then((result) => {
        if (result.isConfirmed) {
            signOut(auth)
                .then(() => {
                    showSuccess("Logged Out", "You have been successfully logged out.");
                    window.location.href = "./index.html";
                })
                .catch((error) => {
                    console.error("Logout error:", error);
                    showError("Logout Error", error.message);
                });
        }
    });
});
  </script>
  
  <script type="module" src="cart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script type="module" src="firebase.js"></script>
</body>
</html>
